(this["webpackJsonpsignal-ai-tv-shows-2"]=this["webpackJsonpsignal-ai-tv-shows-2"]||[]).push([[0],{60:function(e,t,n){},62:function(e,t,n){},82:function(e,t,n){},84:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(27),c=n.n(s),i=(n(60),n(23)),o=n(5),u=(n(61),n(62),n(15)),h=n(13),l=n(10),d=n(28),j=n(31),b=n(3),v=n.n(b),f=n(4),m=n(9),O=n(20),g=n.n(O),w=n(49),p=n(54),x="https://api.tvmaze.com".replace(/\/+$/,""),S=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.a;Object(h.a)(this,e),this.basePath=n,this.axios=a,this.configuration=void 0,t&&(this.configuration=t,this.basePath=t.basePath||this.basePath)},y=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e,a){var r;return Object(h.a)(this,n),(r=t.call(this,a)).field=e,r.name="RequiredError",r}return n}(Object(p.a)(Error)),N="https://example.com",k=function(e,t,n){if(null===n||void 0===n)throw new y(t,"Required parameter ".concat(t," was null or undefined when calling ").concat(e,"."))},I=function(e){for(var t=new URLSearchParams(e.search),n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];for(var s=0,c=a;s<c.length;s++){var i=c[s];for(var o in i)if(Array.isArray(i[o])){t.delete(o);var u,h=Object(w.a)(i[o]);try{for(h.s();!(u=h.n()).done;){var l=u.value;t.append(o,l)}}catch(d){h.e(d)}finally{h.f()}}else t.set(o,i[o])}e.search=t.toString()},C=function(e){return e.pathname+e.search+e.hash},F=function(e,t,n,a){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,c=Object(f.a)(Object(f.a)({},e.options),{},{url:((null===a||void 0===a?void 0:a.basePath)||s)+e.url});return r.request(c)}},U=function(e){var t=function(e){return{getShowCast:function(){var t=Object(m.a)(v.a.mark((function t(n){var a,r,s,c,i,o,u,h=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=h.length>1&&void 0!==h[1]?h[1]:{},k("getShowCast","showId",n),r="/shows/{showId}/cast".replace("{".concat("showId","}"),encodeURIComponent(String(n))),s=new URL(r,N),e&&(c=e.baseOptions),i=Object(f.a)(Object(f.a)({method:"GET"},c),a),o={},I(s,{},a.query),u=c&&c.headers?c.headers:{},i.headers=Object(f.a)(Object(f.a)(Object(f.a)({},o),u),a.headers),t.abrupt("return",{url:C(s),options:i});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getShowDetail:function(){var t=Object(m.a)(v.a.mark((function t(n){var a,r,s,c,i,o,u,h=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=h.length>1&&void 0!==h[1]?h[1]:{},k("getShowDetail","showId",n),r="/shows/{showId}".replace("{".concat("showId","}"),encodeURIComponent(String(n))),s=new URL(r,N),e&&(c=e.baseOptions),i=Object(f.a)(Object(f.a)({method:"GET"},c),a),o={},I(s,{},a.query),u=c&&c.headers?c.headers:{},i.headers=Object(f.a)(Object(f.a)(Object(f.a)({},o),u),a.headers),t.abrupt("return",{url:C(s),options:i});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getShowSeasons:function(){var t=Object(m.a)(v.a.mark((function t(n){var a,r,s,c,i,o,u,h=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=h.length>1&&void 0!==h[1]?h[1]:{},k("getShowSeasons","showId",n),r="/shows/{showId}/seasons".replace("{".concat("showId","}"),encodeURIComponent(String(n))),s=new URL(r,N),e&&(c=e.baseOptions),i=Object(f.a)(Object(f.a)({method:"GET"},c),a),o={},I(s,{},a.query),u=c&&c.headers?c.headers:{},i.headers=Object(f.a)(Object(f.a)(Object(f.a)({},o),u),a.headers),t.abrupt("return",{url:C(s),options:i});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),searchShows:function(){var t=Object(m.a)(v.a.mark((function t(n){var a,r,s,c,i,o,u,h=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=h.length>1&&void 0!==h[1]?h[1]:{},r=new URL("/search/shows/",N),e&&(s=e.baseOptions),c=Object(f.a)(Object(f.a)({method:"GET"},s),a),i={},o={},void 0!==n&&(o.q=n),I(r,o,a.query),u=s&&s.headers?s.headers:{},c.headers=Object(f.a)(Object(f.a)(Object(f.a)({},i),u),a.headers),t.abrupt("return",{url:C(r),options:c});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}(e);return{getShowCast:function(n,a){return Object(m.a)(v.a.mark((function r(){var s;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.getShowCast(n,a);case 2:return s=r.sent,r.abrupt("return",F(s,g.a,x,e));case 4:case"end":return r.stop()}}),r)})))()},getShowDetail:function(n,a){return Object(m.a)(v.a.mark((function r(){var s;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.getShowDetail(n,a);case 2:return s=r.sent,r.abrupt("return",F(s,g.a,x,e));case 4:case"end":return r.stop()}}),r)})))()},getShowSeasons:function(n,a){return Object(m.a)(v.a.mark((function r(){var s;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.getShowSeasons(n,a);case 2:return s=r.sent,r.abrupt("return",F(s,g.a,x,e));case 4:case"end":return r.stop()}}),r)})))()},searchShows:function(n,a){return Object(m.a)(v.a.mark((function r(){var s;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.searchShows(n,a);case 2:return s=r.sent,r.abrupt("return",F(s,g.a,x,e));case 4:case"end":return r.stop()}}),r)})))()}}},R=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"getShowCast",value:function(e,t){var n=this;return U(this.configuration).getShowCast(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getShowDetail",value:function(e,t){var n=this;return U(this.configuration).getShowDetail(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getShowSeasons",value:function(e,t){var n=this;return U(this.configuration).getShowSeasons(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"searchShows",value:function(e,t){var n=this;return U(this.configuration).searchShows(e,t).then((function(e){return e(n.axios,n.basePath)}))}}]),n}(S),L=function(){function e(){Object(h.a)(this,e)}return Object(l.a)(e,null,[{key:"searchShows",value:function(e){return(new R).searchShows(e)}}]),e}(),P=(n(82),n(2)),E=function(e){var t,n,a=e.show;return Object(P.jsxs)("div",{className:"show-card my-3",children:[a.show.image?Object(P.jsx)("img",{className:"image",alt:a.show.name,src:null===(t=a.show.image)||void 0===t?void 0:t.medium}):Object(P.jsx)("div",{className:"image image-substitute"}),Object(P.jsxs)("div",{className:"mt-3",children:[Object(P.jsx)("div",{className:"name",children:a.show.name}),Object(P.jsx)("div",{className:"genre",children:null===(n=a.show.genres)||void 0===n?void 0:n.join(", ")})]})]})},q=(n(84),n(50)),D=n.n(q),T=function(){var e=r.a.useState([]),t=Object(u.a)(e,2),n=t[0],a=t[1],s=r.a.useState(),c=Object(u.a)(s,2),h=c[0],l=c[1],d=Object(o.f)(),j=D.a.parse(d.search.substring(1)).query,b=function(e){L.searchShows(e).then((function(e){a(e.data)}))};return r.a.useEffect((function(){l(j),b(j||"")}),[j]),Object(P.jsxs)("div",{className:"search-results-page",children:[Object(P.jsx)("div",{className:"row",children:Object(P.jsx)("input",{type:"text",className:"form-control search-bar",placeholder:"Search for a TV show",value:h,onChange:function(e){var t=e.currentTarget.value;l(t)},onKeyUp:function(e){"Enter"===e.key&&b(e.currentTarget.value)}})}),Object(P.jsx)("div",{className:"row row-col",children:n.map((function(e){return Object(P.jsx)("div",{className:"col-4 d-flex justify-content-center",children:Object(P.jsx)(i.b,{to:{pathname:"shows/".concat(e.show.id),state:{redirectUrl:"/?query=".concat(h)}},children:Object(P.jsx)(E,{show:e})})},e.show.id)}))})]})},z=(n(95),function(e){return Object(P.jsxs)("div",{className:"picture-card",children:[e.imageURL?Object(P.jsx)("img",{className:"image",alt:e.text,src:e.imageURL}):Object(P.jsx)("div",{className:"image image-substitute"}),Object(P.jsx)("div",{className:"mt-3",children:e.text})]})}),J=function(){function e(){Object(h.a)(this,e)}return Object(l.a)(e,null,[{key:"getShowDetail",value:function(e){return(new R).getShowDetail(e)}},{key:"getCast",value:function(e){return(new R).getShowCast(e)}},{key:"getSeasons",value:function(e){return(new R).getShowSeasons(e)}}]),e}(),G=n(53),A=n.n(G),B=n(52),M=n.n(B),_=(n(96),function(){function e(){Object(h.a)(this,e)}return Object(l.a)(e,null,[{key:"getFavorites",value:function(){return JSON.parse(window.localStorage.getItem("favorites")||"{}")}},{key:"isFavorite",value:function(t){return!!e.getFavorites()[t]}},{key:"addFavorite",value:function(t){var n=e.getFavorites();n[t]=t+"",window.localStorage.setItem("favorites",JSON.stringify(n))}},{key:"removeFavorite",value:function(t){var n=e.getFavorites();delete n[t],window.localStorage.setItem("favorites",JSON.stringify(n))}}]),e}()),H=n(51),K=n.n(H),V=n(35),$=function(e){var t=e.favorite?Object(P.jsx)(M.a,{fontSize:"large",style:{color:"gold"}}):Object(P.jsx)(A.a,{fontSize:"large",style:{color:"grey"}});return Object(P.jsx)("div",{onClick:e.toggleFavorite,style:{cursor:"pointer"},children:t})},Q=function(){var e,t=Object(o.g)().showId,n=Object(o.f)(),a=r.a.useState(),s=Object(u.a)(a,2),c=s[0],h=s[1],l=r.a.useState([]),d=Object(u.a)(l,2),j=d[0],b=d[1],v=r.a.useState([]),f=Object(u.a)(v,2),m=f[0],O=f[1],g=r.a.useState(_.isFavorite(+t)),w=Object(u.a)(g,2),p=w[0],x=w[1];return r.a.useEffect((function(){J.getShowDetail(+t).then((function(e){h(e.data)})).then((function(){J.getCast(+t).then((function(e){b(e.data)})),J.getSeasons(+t).then((function(e){O(e.data)}))}))}),[t]),r.a.useEffect((function(){p?_.addFavorite(+t):_.removeFavorite(+t)}),[t,p]),Object(P.jsxs)("div",{className:"d-flex mt-4 show-detail-page",children:[Object(P.jsx)("div",{className:"back-link",children:Object(P.jsx)(i.b,{to:"".concat(n.state.redirectUrl),children:"Back"})}),Object(P.jsxs)("div",{className:"main-content ps-2",children:[Object(P.jsxs)("div",{className:"row mb-4",children:[Object(P.jsxs)("div",{className:"d-flex mb-4 align-items-end",children:[Object(P.jsx)("img",{src:null===c||void 0===c||null===(e=c.image)||void 0===e?void 0:e.medium,alt:null===c||void 0===c?void 0:c.name,className:"main-image me-2"}),Object(P.jsx)("div",{className:"h1 mb-0",children:null===c||void 0===c?void 0:c.name}),Object(P.jsx)($,{favorite:p,toggleFavorite:function(){return x((function(e){return!e}))}})]}),Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:K.a.sanitize((null===c||void 0===c?void 0:c.summary)||"")}})]}),Object(P.jsxs)("div",{className:"row mb-4",children:[Object(P.jsx)("h2",{className:"mb-3",children:"Cast"}),Object(P.jsx)(V.a,{className:"scroll-container",horizontal:!0,children:Object(P.jsxs)("div",{className:"d-flex",children:[0===j.length&&Object(P.jsx)("div",{children:"No data"}),j.map((function(e){var t;return Object(P.jsx)("div",{className:"me-3",children:Object(P.jsx)(z,{imageURL:null===(t=e.person.image)||void 0===t?void 0:t.medium,text:e.person.name})},e.character.id)}))]})})]}),Object(P.jsxs)("div",{className:"row mb-4",children:[Object(P.jsx)("div",{className:"h2 mb-3",children:"Seasons"}),Object(P.jsx)(V.a,{className:"scroll-container",horizontal:!0,children:Object(P.jsxs)("div",{className:"picture-scroll d-flex",children:[0===m.length&&Object(P.jsx)("div",{children:"No data"}),m.map((function(e){var t;return Object(P.jsx)("div",{className:"me-3",children:Object(P.jsx)(z,{imageURL:null===(t=e.image)||void 0===t?void 0:t.medium,text:"Season ".concat(e.number)})},e.number)}))]})})]})]})]})},W=function(){return Object(P.jsx)("div",{className:"container my-4",children:Object(P.jsx)(i.a,{children:Object(P.jsxs)(o.c,{children:[Object(P.jsx)(o.a,{path:"/shows/:showId",children:Object(P.jsx)(Q,{})}),Object(P.jsx)(o.a,{path:"/",children:Object(P.jsx)(T,{})})]})})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,111)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};c.a.render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(W,{})}),document.getElementById("root")),X()}},[[99,1,2]]]);
//# sourceMappingURL=main.fca48549.chunk.js.map